.container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  overflow-x: auto; /* 유일한 스크롤 소유자 */
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* 좌측 정렬로 일관성 */
  gap: var(--spacing-md);

  /* 스크롤바 스타일 */
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
}

.container.rendering {
  opacity: 0.7;
  pointer-events: none;
}

.pageContainer {
  display: block; /* flex 아이템이면서 내부는 블록 포맷 */
  width: fit-content; /* 콘텐츠(canvas) 폭에 맞춰 수축 */
  margin-left: auto; /* 컨테이너보다 좁을 때 중앙 정렬 */
  margin-right: auto;
  position: relative; /* overlay/text 레이어 절대 배치 기준 */
}

.pageCanvas {
  display: block;
  /* 캔버스는 원본 크기를 유지 (스크롤로 탐색 가능) */
  max-width: none;
  width: auto;
  height: auto;
  box-shadow: var(--shadow-md);
  background-color: #ffffff;

  /* 부드러운 렌더링 */
  image-rendering: auto;
}

/* 텍스트 레이어: 선택 가능, 시각적으로는 투명 (복사/선택만) */
/* 보조 클래스: pdf.js 기본 .textLayer 규칙은 pdf_viewer.css에 존재
   여기서는 z-index와 배치만 보조로 지정 */
.textLayer {
  position: absolute;
  inset: 0;
  overflow: clip;
  line-height: 1;
  -webkit-text-size-adjust: none;
  -moz-text-size-adjust: none;
  text-size-adjust: none;
  transform-origin: 0 0;
  caret-color: CanvasText;
  /* pdf.js가 사용하는 스케일 변수 기본값 (상위/onAppend에서 갱신) */
  --scale-factor: 1;
  --user-unit: 1;
  --total-scale-factor: calc(var(--scale-factor) * var(--user-unit));
  z-index: 2; /* overlay(1) 위에 배치 */
}

/* 텍스트 스팬 절대 배치 및 선택 지원 (pdf.js 기본 규칙 최소화) */
.textLayer :is(span, br) {
  color: transparent;
  position: absolute;
  white-space: pre;
  cursor: text;
  transform-origin: 0 0;
}

/* 드래그 선택 시 br의 배경 하이라이트 제거 */
.textLayer br::-moz-selection {
  background: transparent;
}
.textLayer br::selection {
  background: transparent;
}

/* 어노테이션 레이어: 링크, 스탬프, 폼 등 주석 요소 렌더링 */
.annotationLayer {
  position: absolute;
  inset: 0;
  overflow: clip;
  pointer-events: auto;
  z-index: 1; /* 텍스트 레이어(z=2) 아래, 오버레이(z=1) 위 */
}

/* moved to globals.css as pure global selectors */

@media (max-width: 768px) {
  .container {
    padding: var(--spacing-xs) 0;
    gap: var(--spacing-xs);
  }

  .pageContainer {
    padding: 0 var(--spacing-xs);
  }

  .pageCanvas {
    box-shadow: var(--shadow-sm);
  }
}

